var ye=s=>{throw TypeError(s)};var ie=(s,t,r)=>t.has(s)||ye("Cannot "+r);var a=(s,t,r)=>(ie(s,t,"read from private field"),r?r.call(s):t.get(s)),g=(s,t,r)=>t.has(s)?ye("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(s):t.set(s,r),m=(s,t,r,i)=>(ie(s,t,"write to private field"),i?i.call(s,r):t.set(s,r),r),f=(s,t,r)=>(ie(s,t,"access private method"),r);import{E as He,ae as ve,af as D,F as oe,ag as ae,ah as Ve,ai as de,aj as we,ak as Be,al as qe,am as We,an as je,M as ze,r as S,N as Ke,c as _,j as e,D as Xe,O as Ye,m as ne,h as Ge,Z as Ne,Y as B,k as Ze,V as Je,W as et,P as tt,X as st,a0 as rt}from"./index-C1L2YuBo.js";import{s as at,n as ke,M as Ce}from"./message-square-EHI4Ewm3.js";import{C as se,e as Re,f as Se,g as it,i as Te,j as Ie,S as nt,a as lt,b as ot,c as dt,d as re}from"./card-ByKvWXLi.js";import{t as ct,c as ht,A as ut,C as mt,b as pt,R as ft,f as De}from"./alert-CAfVDNLu.js";import{U as bt}from"./user-CakJ2JVQ.js";import{S as Ee}from"./search-CSeZwaH7.js";import"./index-D0_1-HgH.js";var R,n,Z,N,P,q,F,M,J,W,K,U,z,A,X,o,G,ce,he,ue,me,pe,fe,be,_e,Ue,xt=(Ue=class extends He{constructor(t,r){super();g(this,o);g(this,R);g(this,n);g(this,Z);g(this,N);g(this,P);g(this,q);g(this,F);g(this,M);g(this,J);g(this,W);g(this,K);g(this,U);g(this,z);g(this,A);g(this,X,new Set);this.options=r,m(this,R,t),m(this,M,null),m(this,F,ve()),this.options.experimental_prefetchInRender||a(this,F).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(a(this,n).addObserver(this),Oe(a(this,n),this.options)?f(this,o,G).call(this):this.updateResult(),f(this,o,me).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return xe(a(this,n),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return xe(a(this,n),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,f(this,o,pe).call(this),f(this,o,fe).call(this),a(this,n).removeObserver(this)}setOptions(t){const r=this.options,i=a(this,n);if(this.options=a(this,R).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof D(this.options.enabled,a(this,n))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");f(this,o,be).call(this),a(this,n).setOptions(this.options),r._defaulted&&!oe(this.options,r)&&a(this,R).getQueryCache().notify({type:"observerOptionsUpdated",query:a(this,n),observer:this});const h=this.hasListeners();h&&Le(a(this,n),i,this.options,r)&&f(this,o,G).call(this),this.updateResult(),h&&(a(this,n)!==i||D(this.options.enabled,a(this,n))!==D(r.enabled,a(this,n))||ae(this.options.staleTime,a(this,n))!==ae(r.staleTime,a(this,n)))&&f(this,o,ce).call(this);const d=f(this,o,he).call(this);h&&(a(this,n)!==i||D(this.options.enabled,a(this,n))!==D(r.enabled,a(this,n))||d!==a(this,A))&&f(this,o,ue).call(this,d)}getOptimisticResult(t){const r=a(this,R).getQueryCache().build(a(this,R),t),i=this.createResult(r,t);return yt(this,i)&&(m(this,N,i),m(this,q,this.options),m(this,P,a(this,n).state)),i}getCurrentResult(){return a(this,N)}trackResult(t,r){return new Proxy(t,{get:(i,h)=>(this.trackProp(h),r==null||r(h),Reflect.get(i,h))})}trackProp(t){a(this,X).add(t)}getCurrentQuery(){return a(this,n)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=a(this,R).defaultQueryOptions(t),i=a(this,R).getQueryCache().build(a(this,R),r);return i.fetch().then(()=>this.createResult(i,r))}fetch(t){return f(this,o,G).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),a(this,N)))}createResult(t,r){var ee;const i=a(this,n),h=this.options,d=a(this,N),l=a(this,P),I=a(this,q),k=t!==i?t.state:a(this,Z),{state:y}=t;let u={...y},Q=!1,p;if(r._optimisticResults){const x=this.hasListeners(),T=!x&&Oe(t,r),V=x&&Le(t,i,r,h);(T||V)&&(u={...u,...We(y.data,t.options)}),r._optimisticResults==="isRestoring"&&(u.fetchStatus="idle")}let{error:E,errorUpdatedAt:O,status:j}=u;p=u.data;let $=!1;if(r.placeholderData!==void 0&&p===void 0&&j==="pending"){let x;d!=null&&d.isPlaceholderData&&r.placeholderData===(I==null?void 0:I.placeholderData)?(x=d.data,$=!0):x=typeof r.placeholderData=="function"?r.placeholderData((ee=a(this,K))==null?void 0:ee.state.data,a(this,K)):r.placeholderData,x!==void 0&&(j="success",p=je(d==null?void 0:d.data,x,r),Q=!0)}if(r.select&&p!==void 0&&!$)if(d&&p===(l==null?void 0:l.data)&&r.select===a(this,J))p=a(this,W);else try{m(this,J,r.select),p=r.select(p),p=je(d==null?void 0:d.data,p,r),m(this,W,p),m(this,M,null)}catch(x){m(this,M,x)}a(this,M)&&(E=a(this,M),p=a(this,W),O=Date.now(),j="error");const H=u.fetchStatus==="fetching",L=j==="pending",Y=j==="error",c=L&&H,v=p!==void 0,C={status:j,fetchStatus:u.fetchStatus,isPending:L,isSuccess:j==="success",isError:Y,isInitialLoading:c,isLoading:c,data:p,dataUpdatedAt:u.dataUpdatedAt,error:E,errorUpdatedAt:O,failureCount:u.fetchFailureCount,failureReason:u.fetchFailureReason,errorUpdateCount:u.errorUpdateCount,isFetched:u.dataUpdateCount>0||u.errorUpdateCount>0,isFetchedAfterMount:u.dataUpdateCount>k.dataUpdateCount||u.errorUpdateCount>k.errorUpdateCount,isFetching:H,isRefetching:H&&!L,isLoadingError:Y&&!v,isPaused:u.fetchStatus==="paused",isPlaceholderData:Q,isRefetchError:Y&&v,isStale:ge(t,r),refetch:this.refetch,promise:a(this,F)};if(this.options.experimental_prefetchInRender){const x=te=>{C.status==="error"?te.reject(C.error):C.data!==void 0&&te.resolve(C.data)},T=()=>{const te=m(this,F,C.promise=ve());x(te)},V=a(this,F);switch(V.status){case"pending":t.queryHash===i.queryHash&&x(V);break;case"fulfilled":(C.status==="error"||C.data!==V.value)&&T();break;case"rejected":(C.status!=="error"||C.error!==V.reason)&&T();break}}return C}updateResult(){const t=a(this,N),r=this.createResult(a(this,n),this.options);if(m(this,P,a(this,n).state),m(this,q,this.options),a(this,P).data!==void 0&&m(this,K,a(this,n)),oe(r,t))return;m(this,N,r);const i=()=>{if(!t)return!0;const{notifyOnChangeProps:h}=this.options,d=typeof h=="function"?h():h;if(d==="all"||!d&&!a(this,X).size)return!0;const l=new Set(d??a(this,X));return this.options.throwOnError&&l.add("error"),Object.keys(a(this,N)).some(I=>{const b=I;return a(this,N)[b]!==t[b]&&l.has(b)})};f(this,o,_e).call(this,{listeners:i()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&f(this,o,me).call(this)}},R=new WeakMap,n=new WeakMap,Z=new WeakMap,N=new WeakMap,P=new WeakMap,q=new WeakMap,F=new WeakMap,M=new WeakMap,J=new WeakMap,W=new WeakMap,K=new WeakMap,U=new WeakMap,z=new WeakMap,A=new WeakMap,X=new WeakMap,o=new WeakSet,G=function(t){f(this,o,be).call(this);let r=a(this,n).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(Ve)),r},ce=function(){f(this,o,pe).call(this);const t=ae(this.options.staleTime,a(this,n));if(de||a(this,N).isStale||!we(t))return;const i=Be(a(this,N).dataUpdatedAt,t)+1;m(this,U,setTimeout(()=>{a(this,N).isStale||this.updateResult()},i))},he=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(a(this,n)):this.options.refetchInterval)??!1},ue=function(t){f(this,o,fe).call(this),m(this,A,t),!(de||D(this.options.enabled,a(this,n))===!1||!we(a(this,A))||a(this,A)===0)&&m(this,z,setInterval(()=>{(this.options.refetchIntervalInBackground||qe.isFocused())&&f(this,o,G).call(this)},a(this,A)))},me=function(){f(this,o,ce).call(this),f(this,o,ue).call(this,f(this,o,he).call(this))},pe=function(){a(this,U)&&(clearTimeout(a(this,U)),m(this,U,void 0))},fe=function(){a(this,z)&&(clearInterval(a(this,z)),m(this,z,void 0))},be=function(){const t=a(this,R).getQueryCache().build(a(this,R),this.options);if(t===a(this,n))return;const r=a(this,n);m(this,n,t),m(this,Z,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},_e=function(t){ze.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(a(this,N))}),a(this,R).getQueryCache().notify({query:a(this,n),type:"observerResultsUpdated"})})},Ue);function gt(s,t){return D(t.enabled,s)!==!1&&s.state.data===void 0&&!(s.state.status==="error"&&t.retryOnMount===!1)}function Oe(s,t){return gt(s,t)||s.state.data!==void 0&&xe(s,t,t.refetchOnMount)}function xe(s,t,r){if(D(t.enabled,s)!==!1){const i=typeof r=="function"?r(s):r;return i==="always"||i!==!1&&ge(s,t)}return!1}function Le(s,t,r,i){return(s!==t||D(i.enabled,s)===!1)&&(!r.suspense||s.state.status!=="error")&&ge(s,r)}function ge(s,t){return D(t.enabled,s)!==!1&&s.isStaleByTime(ae(t.staleTime,s))}function yt(s,t){return!oe(s.getCurrentResult(),t)}var $e=S.createContext(!1),vt=()=>S.useContext($e);$e.Provider;function wt(){let s=!1;return{clearReset:()=>{s=!1},reset:()=>{s=!0},isReset:()=>s}}var jt=S.createContext(wt()),Nt=()=>S.useContext(jt),kt=(s,t)=>{(s.suspense||s.throwOnError||s.experimental_prefetchInRender)&&(t.isReset()||(s.retryOnMount=!1))},Ct=s=>{S.useEffect(()=>{s.clearReset()},[s])},Rt=({result:s,errorResetBoundary:t,throwOnError:r,query:i,suspense:h})=>s.isError&&!t.isReset()&&!s.isFetching&&i&&(h&&s.data===void 0||at(r,[s.error,i])),St=s=>{const t=s.staleTime;s.suspense&&(s.staleTime=typeof t=="function"?(...r)=>Math.max(t(...r),1e3):Math.max(t??1e3,1e3),typeof s.gcTime=="number"&&(s.gcTime=Math.max(s.gcTime,1e3)))},Tt=(s,t)=>s.isLoading&&s.isFetching&&!t,It=(s,t)=>(s==null?void 0:s.suspense)&&t.isPending,Fe=(s,t,r)=>t.fetchOptimistic(s).catch(()=>{r.clearReset()});function Dt(s,t,r){var u,Q,p,E,O;const i=Ke(),h=vt(),d=Nt(),l=i.defaultQueryOptions(s);(Q=(u=i.getDefaultOptions().queries)==null?void 0:u._experimental_beforeQuery)==null||Q.call(u,l),l._optimisticResults=h?"isRestoring":"optimistic",St(l),kt(l,d),Ct(d);const I=!i.getQueryCache().get(l.queryHash),[b]=S.useState(()=>new t(i,l)),k=b.getOptimisticResult(l),y=!h&&s.subscribed!==!1;if(S.useSyncExternalStore(S.useCallback(j=>{const $=y?b.subscribe(ze.batchCalls(j)):ke;return b.updateResult(),$},[b,y]),()=>b.getCurrentResult(),()=>b.getCurrentResult()),S.useEffect(()=>{b.setOptions(l)},[l,b]),It(l,k))throw Fe(l,b,d);if(Rt({result:k,errorResetBoundary:d,throwOnError:l.throwOnError,query:i.getQueryCache().get(l.queryHash),suspense:l.suspense}))throw k.error;if((E=(p=i.getDefaultOptions().queries)==null?void 0:p._experimental_afterQuery)==null||E.call(p,l,k),l.experimental_prefetchInRender&&!de&&Tt(k,h)){const j=I?Fe(l,b,d):(O=i.getQueryCache().get(l.queryHash))==null?void 0:O.promise;j==null||j.catch(ke).finally(()=>{b.updateResult()})}return l.notifyOnChangeProps?k:b.trackResult(k)}function Et(s,t){return Dt(s,xt)}/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const le=_("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ot=_("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lt=_("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Me=_("Inbox",[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ae=_("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ft=_("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mt=_("MailCheck",[["path",{d:"M22 13V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v12c0 1.1.9 2 2 2h8",key:"12jkf8"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}],["path",{d:"m16 19 2 2 4-4",key:"1b14m6"}]]);function At(s,t){const r=ct(s);return isNaN(t)?ht(s,NaN):(t&&r.setDate(r.getDate()+t),r)}function Qe(s,t){return At(s,-t)}const Qt=Ye("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Pe({className:s,variant:t,...r}){return e.jsx("div",{className:Xe(Qt({variant:t}),s),...r})}function qt(){const[s,t]=S.useState(localStorage.getItem("adminToken")||""),[r,i]=S.useState(!!localStorage.getItem("adminToken")),[h,d]=S.useState(""),[l,I]=S.useState("all"),[b,k]=S.useState(!1),{data:y,isLoading:u,isError:Q,error:p,refetch:E}=Et({queryKey:["/api/admin/contacts",s],queryFn:async()=>s?await rt("GET","/api/admin/contacts",null,{headers:{Authorization:`Bearer ${s}`}}):[],enabled:r,refetchInterval:3e4}),O=()=>{localStorage.setItem("adminToken",s),i(!0),E()},j=()=>{localStorage.removeItem("adminToken"),t(""),i(!1)},$=async()=>{k(!0),await E(),setTimeout(()=>k(!1),500)},H=c=>{try{return De(new Date(c),"PPP 'at' p")}catch{return"Date unavailable"}},L=()=>{if(!y)return[];let c=[...y];if(h.trim()){const v=h.toLowerCase();c=c.filter(w=>`${w.firstName} ${w.lastName}`.toLowerCase().includes(v)||w.firstName.toLowerCase().includes(v)||w.lastName.toLowerCase().includes(v)||w.email.toLowerCase().includes(v)||w.phone.toLowerCase().includes(v)||w.message.toLowerCase().includes(v))}if(l!=="all"){const v=new Date;let w;switch(l){case"today":w=new Date(v.setHours(0,0,0,0));break;case"week":w=Qe(v,7);break;case"month":w=Qe(v,30);break;default:w=new Date(0)}c=c.filter(C=>new Date(C.createdAt)>=w)}return c},Y=()=>{if(!y||y.length===0)return;const c=L(),w=[["ID","First Name","Last Name","Email","Phone","Message","Date"].join(","),...c.map(T=>[T.id,`"${T.firstName.replace(/"/g,'""')}"`,`"${T.lastName.replace(/"/g,'""')}"`,`"${T.email.replace(/"/g,'""')}"`,`"${T.phone.replace(/"/g,'""')}"`,`"${T.message.replace(/"/g,'""').replace(/\n/g," ")}"`,`"${H(T.createdAt)}"`].join(","))].join(`
`),C=new Blob([w],{type:"text/csv;charset=utf-8;"}),ee=URL.createObjectURL(C),x=document.createElement("a");x.setAttribute("href",ee),x.setAttribute("download",`contacts-export-${De(new Date,"yyyy-MM-dd")}.csv`),x.style.visibility="hidden",document.body.appendChild(x),x.click(),document.body.removeChild(x)};return r?e.jsxs(ne.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:"container mx-auto px-4 py-8",children:[e.jsx("div",{className:"fixed top-0 right-0 -mt-16 -mr-16 w-96 h-96 bg-primary/5 rounded-full blur-[120px] opacity-60 z-0 pointer-events-none"}),e.jsx("div",{className:"fixed bottom-0 left-0 -mb-32 -ml-32 w-80 h-80 bg-primary/5 rounded-full blur-[100px] opacity-50 z-0 pointer-events-none"}),e.jsx(se,{className:"backdrop-blur-md bg-white/80 dark:bg-black/40 border border-gray-100/40 dark:border-gray-700/30 shadow-lg mb-8 relative z-10",children:e.jsxs("div",{className:"relative overflow-hidden",children:[e.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[e.jsx("div",{className:"absolute top-0 left-0 w-full h-12 bg-gradient-to-b from-white/10 dark:from-white/5 to-transparent"}),e.jsx("div",{className:"absolute -top-1/3 -right-1/3 w-2/3 h-2/3 bg-gradient-to-br from-primary/5 to-transparent rounded-full transform rotate-12 blur-lg"})]}),e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center p-6",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-4 md:mb-0",children:[e.jsx("div",{className:"p-3 bg-primary/10 rounded-full shadow-inner backdrop-blur-sm",children:e.jsx(Me,{className:"h-7 w-7 text-primary"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Contact Submissions"}),e.jsx("p",{className:"text-text-secondary text-sm mt-1",children:"Track and respond to client enquiries"})]})]}),e.jsx("div",{className:"flex items-center",children:e.jsxs(B,{variant:"outline",onClick:j,className:"flex items-center gap-2 border-primary/50 text-primary hover:bg-primary/10 transition-all backdrop-blur-sm",children:[e.jsx(Ft,{className:"h-4 w-4"}),e.jsx("span",{children:"Sign Out"})]})})]})]})}),u?e.jsxs(ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center py-12 bg-white/90 dark:bg-black/50 backdrop-blur-sm rounded-xl shadow-md",children:[e.jsx("div",{className:"animate-spin w-8 h-8 border-3 border-primary border-opacity-30 border-t-primary rounded-full mx-auto mb-4"}),e.jsx("p",{className:"text-text-secondary",children:"Loading contact submissions..."})]}):Q?e.jsxs(ut,{variant:"destructive",className:"mb-6 border-0 shadow-md",children:[e.jsx(mt,{className:"h-5 w-5"}),e.jsx(pt,{className:"ml-2",children:p instanceof Error?p.message:"Failed to load contacts. Please check your token and try again."})]}):e.jsxs(e.Fragment,{children:[e.jsx(se,{className:"backdrop-blur-md bg-white/80 dark:bg-black/40 border border-gray-100/40 dark:border-gray-700/30 shadow-md overflow-hidden mb-6 relative z-10",children:e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[e.jsx("div",{className:"absolute top-0 left-0 w-full h-8 bg-gradient-to-b from-white/10 dark:from-white/5 to-transparent"}),e.jsx("div",{className:"absolute -top-1/4 -right-1/4 w-1/2 h-1/2 bg-gradient-to-br from-primary/5 to-transparent rounded-full transform rotate-12 blur-lg"})]}),e.jsxs("div",{className:"p-5 relative",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-5 text-text-primary",children:[e.jsx("div",{className:"p-2 bg-primary/10 rounded-full shadow-inner backdrop-blur-sm",children:e.jsx(Lt,{className:"h-5 w-5 text-primary"})}),e.jsx("h3",{className:"font-medium text-lg",children:"Search & Filter"})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 relative",children:[e.jsxs("div",{className:"relative flex-1 group",children:[e.jsx("div",{className:"absolute -inset-0.5 bg-gradient-to-r from-primary/10 to-primary/5 rounded-lg blur opacity-0 group-hover:opacity-100 transition duration-1000"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 h-6 w-6 flex items-center justify-center rounded-full bg-primary/10",children:e.jsx(Ee,{className:"h-3 w-3 text-primary"})}),e.jsx(Ne,{placeholder:"Search by name, email, phone, or message content...",value:h,onChange:c=>d(c.target.value),className:"pl-10 bg-white/80 dark:bg-gray-800/60 border-gray-100 dark:border-gray-700/50 rounded-lg focus:ring-2 focus:ring-primary/30 shadow-sm h-10"}),h&&e.jsx("button",{className:"absolute right-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground hover:text-gray-900 bg-gray-200/70 dark:bg-gray-700/70 rounded-full flex items-center justify-center transition-colors",onClick:()=>d(""),"aria-label":"Clear search",children:e.jsx(le,{className:"h-3 w-3"})})]})]}),e.jsxs("div",{className:"w-full sm:w-52 group",children:[e.jsx("div",{className:"absolute -inset-0.5 bg-gradient-to-r from-primary/10 to-primary/5 rounded-lg blur opacity-0 group-hover:opacity-100 transition duration-1000"}),e.jsx("div",{className:"relative",children:e.jsxs(nt,{value:l,onValueChange:I,children:[e.jsx(lt,{className:"bg-white/80 dark:bg-gray-800/60 border-gray-100 dark:border-gray-700/50 focus:ring-2 focus:ring-primary/30 shadow-sm h-10",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Ze,{className:"h-4 w-4 mr-2 text-primary/70"}),e.jsx(ot,{placeholder:"Filter by time"})]})}),e.jsxs(dt,{children:[e.jsx(re,{value:"all",children:"All time"}),e.jsx(re,{value:"today",children:"Today"}),e.jsx(re,{value:"week",children:"Last 7 days"}),e.jsx(re,{value:"month",children:"Last 30 days"})]})]})})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(B,{variant:"outline",size:"icon",onClick:$,className:`bg-white/80 dark:bg-gray-800/60 border-gray-100 dark:border-gray-700/50 hover:bg-primary/5 shadow-sm h-10 w-10 ${b?"animate-spin":""}`,title:"Refresh",children:e.jsx(ft,{className:"h-4 w-4 text-primary"})}),e.jsxs(B,{variant:"outline",onClick:Y,disabled:!y||y.length===0,title:"Export to CSV",className:"flex items-center gap-2 bg-white/80 dark:bg-gray-800/60 border-gray-100 dark:border-gray-700/50 hover:bg-primary/5 shadow-sm h-10",children:[e.jsx(Ot,{className:"h-4 w-4 text-primary"}),e.jsx("span",{className:"hidden sm:inline",children:"Export"})]})]})]})]})]})}),e.jsxs("div",{className:"flex flex-wrap gap-2 items-center mb-6",children:[h&&e.jsxs(Pe,{variant:"outline",className:"flex items-center gap-1",children:[e.jsxs("span",{children:["Search: ",h]}),e.jsx("button",{onClick:()=>d(""),"aria-label":"Clear search",children:e.jsx(le,{className:"h-3 w-3 ml-1"})})]}),l!=="all"&&e.jsxs(Pe,{variant:"outline",className:"flex items-center gap-1",children:[e.jsxs("span",{children:["Time: ",l==="today"?"Today":l==="week"?"Last 7 days":"Last 30 days"]}),e.jsx("button",{onClick:()=>I("all"),"aria-label":"Clear time filter",children:e.jsx(le,{className:"h-3 w-3 ml-1"})})]}),y&&e.jsxs("div",{className:"ml-auto text-sm text-text-secondary",children:["Showing ",L().length," of ",y.length," entries"]})]}),e.jsx(Je,{mode:"wait",children:y&&y.length>0?L().length>0?e.jsx("div",{className:"space-y-6",children:L().map((c,v)=>e.jsx(se,{className:"backdrop-blur-md bg-white/80 dark:bg-black/40 border border-gray-100/40 dark:border-gray-700/30 shadow-md overflow-hidden relative z-10 hover:shadow-lg transition-shadow duration-300",children:e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[e.jsx("div",{className:"absolute top-0 left-0 w-full h-10 bg-gradient-to-b from-white/10 dark:from-white/5 to-transparent"}),e.jsx("div",{className:"absolute -top-1/3 -right-1/3 w-2/3 h-2/3 bg-gradient-to-br from-primary/5 to-transparent rounded-full transform rotate-12 blur-lg"})]}),e.jsx(Re,{className:"pb-3 border-b border-gray-100/50 dark:border-gray-800/50",children:e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start gap-3",children:[e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"p-2.5 rounded-full bg-primary/10 shadow-inner backdrop-blur-sm flex items-center justify-center flex-shrink-0 mt-1",children:e.jsx(Ce,{className:"h-5 w-5 text-primary"})}),e.jsxs("div",{children:[e.jsxs(Se,{className:"text-xl flex flex-wrap items-center gap-2",children:[c.firstName," ",c.lastName,e.jsxs("span",{className:"text-xs px-2 py-0.5 bg-primary/10 text-primary rounded-full font-normal ml-1 backdrop-blur-sm",children:["ID: ",c.id]})]}),e.jsxs("div",{className:"flex flex-col md:flex-row mt-2 gap-5",children:[e.jsxs("div",{className:"flex items-center text-sm text-text-secondary/80",children:[e.jsx("div",{className:"p-1 rounded-full bg-primary/5 mr-2 shadow-inner",children:e.jsx(et,{className:"h-3.5 w-3.5 text-primary/70"})}),e.jsx("span",{children:c.email})]}),c.phone&&e.jsxs("div",{className:"flex items-center text-sm text-text-secondary/80",children:[e.jsx("div",{className:"p-1 rounded-full bg-primary/5 mr-2 shadow-inner",children:e.jsx(tt,{className:"h-3.5 w-3.5 text-primary/70"})}),e.jsx("span",{children:c.phone})]})]})]})]}),e.jsxs("div",{className:"flex items-center mt-2 sm:mt-0 px-3 py-1.5 text-sm text-text-secondary bg-primary/10 backdrop-blur-sm rounded-full shadow-inner",children:[e.jsx(st,{className:"h-4 w-4 mr-2 text-primary/70"}),e.jsx("span",{children:H(c.createdAt)})]})]})}),e.jsxs(Te,{className:"pt-5",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx("div",{className:"p-1 rounded-full bg-primary/10 mr-1 shadow-inner",children:e.jsx(Ce,{className:"h-3.5 w-3.5 text-primary"})}),e.jsx("h3",{className:"text-sm font-medium text-text-primary",children:"Message Content"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-primary/5 to-transparent rounded-lg blur opacity-75"}),e.jsx("div",{className:"relative bg-white/90 dark:bg-gray-800/60 p-5 rounded-lg border border-gray-100/50 dark:border-gray-700/30 whitespace-pre-wrap shadow-sm",children:c.message})]})]}),e.jsx(Ie,{className:"border-t border-gray-100/50 dark:border-gray-800/50 py-4 flex justify-end",children:e.jsxs(B,{variant:"outline",size:"sm",className:"bg-white/70 dark:bg-gray-800/50 border-primary/30 text-primary hover:bg-primary/10 flex items-center gap-2 shadow-sm transition-all duration-300 hover:shadow",onClick:()=>{window.location.href=`mailto:${c.email}?subject=Re: Your message to Celia Dunsmore Counselling`},children:[e.jsx(Mt,{className:"h-4 w-4 text-primary"}),e.jsx("span",{children:"Reply via Email"})]})})]})},c.id))}):e.jsxs("div",{className:"text-center py-14 backdrop-blur-md bg-white/80 dark:bg-black/40 border border-gray-100/40 dark:border-gray-700/30 rounded-xl shadow-lg relative overflow-hidden",children:[e.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[e.jsx("div",{className:"absolute top-0 left-0 w-full h-16 bg-gradient-to-b from-white/15 dark:from-white/5 to-transparent"}),e.jsx("div",{className:"absolute -top-1/3 left-1/4 w-1/2 h-1/2 bg-gradient-to-br from-primary/5 to-transparent rounded-full transform rotate-12 blur-xl"})]}),e.jsxs("div",{className:"relative z-10",children:[e.jsx("div",{className:"p-5 bg-primary/5 backdrop-blur-sm rounded-full mx-auto w-24 h-24 flex items-center justify-center mb-6 shadow-inner",children:e.jsx(Ee,{className:"h-12 w-12 text-primary opacity-60"})}),e.jsx("h3",{className:"text-2xl font-medium mb-3",children:"No matching submissions"}),e.jsx("p",{className:"text-text-secondary mt-2 max-w-md mx-auto px-6",children:"Try adjusting your search terms or filters to find what you're looking for."}),e.jsx(B,{variant:"outline",size:"sm",className:"mt-8 bg-white/70 dark:bg-gray-800/50 border-primary/30 text-primary hover:bg-primary/10 shadow-sm transition-all duration-300 hover:shadow",onClick:()=>{d(""),I("all")},children:e.jsx("span",{className:"relative px-2",children:"Clear All Filters"})})]})]}):e.jsxs("div",{className:"text-center py-14 backdrop-blur-md bg-white/80 dark:bg-black/40 border border-gray-100/40 dark:border-gray-700/30 rounded-xl shadow-lg relative overflow-hidden",children:[e.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[e.jsx("div",{className:"absolute top-0 left-0 w-full h-16 bg-gradient-to-b from-white/15 dark:from-white/5 to-transparent"}),e.jsx("div",{className:"absolute -top-1/3 right-1/4 w-1/2 h-1/2 bg-gradient-to-br from-primary/5 to-transparent rounded-full transform -rotate-12 blur-xl"})]}),e.jsxs("div",{className:"relative z-10",children:[e.jsx("div",{className:"p-5 bg-primary/5 backdrop-blur-sm rounded-full mx-auto w-24 h-24 flex items-center justify-center mb-6 shadow-inner",children:e.jsx(Me,{className:"h-12 w-12 text-primary opacity-60"})}),e.jsx("h3",{className:"text-2xl font-medium mb-3",children:"No contact submissions yet"}),e.jsx("p",{className:"text-text-secondary mt-2 max-w-md mx-auto px-6",children:"When clients submit the contact form, their messages will appear here."})]})]})})]})]}):e.jsx("div",{className:"container mx-auto px-4 py-12 max-w-md",children:e.jsx(ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute -top-24 -right-24 w-80 h-80 bg-primary/10 rounded-full blur-[100px] opacity-80"}),e.jsx("div",{className:"absolute -bottom-20 -left-20 w-72 h-72 bg-primary/10 rounded-full blur-[80px] opacity-70"}),e.jsxs(se,{className:"backdrop-blur-sm bg-white/80 dark:bg-black/40 border border-gray-100/40 dark:border-gray-700/30 shadow-xl overflow-hidden relative",children:[e.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[e.jsx("div",{className:"absolute -top-1/2 -right-1/2 w-full h-full bg-gradient-to-br from-white/5 to-transparent rounded-full transform rotate-12 blur-sm"}),e.jsx("div",{className:"absolute top-0 left-0 w-full h-12 bg-gradient-to-b from-white/10 dark:from-white/5 to-transparent"})]}),e.jsx(Re,{className:"relative border-b border-gray-100/50 dark:border-gray-800/50 pb-6",children:e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:"p-2.5 bg-primary/10 rounded-full backdrop-blur-sm shadow-inner",children:e.jsx(Ge,{className:"h-7 w-7 text-primary"})}),e.jsxs("div",{children:[e.jsx(Se,{className:"text-2xl",children:"Admin Portal"}),e.jsx(it,{className:"text-sm opacity-80",children:"Secure access to client messages"})]})]})}),e.jsx(Te,{className:"pt-8 relative",children:e.jsx("div",{className:"space-y-7",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx(bt,{className:"h-4 w-4 text-primary mr-2"}),e.jsx("label",{htmlFor:"token",className:"text-sm font-medium",children:"Admin Access Token"})]}),e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"absolute -inset-0.5 bg-gradient-to-r from-primary/20 to-primary/5 rounded-lg blur opacity-0 group-hover:opacity-100 transition duration-1000"}),e.jsxs("div",{className:"relative",children:[e.jsx(Ne,{id:"token",type:"password",value:s,onChange:c=>t(c.target.value),placeholder:"Enter your secure admin token",className:"pr-10 bg-white/80 dark:bg-gray-800/60 border-gray-100 dark:border-gray-700/50 focus:ring-2 focus:ring-primary/30 shadow-sm",onKeyDown:c=>c.key==="Enter"&&s&&O()}),e.jsx(Ae,{className:"absolute right-3 top-1/2 -translate-y-1/2 h-4 w-4 text-primary/60"})]})]})]})})}),e.jsx(Ie,{className:"relative border-t border-gray-100/50 dark:border-gray-800/50 pt-6 pb-8",children:e.jsxs(B,{className:"w-full relative bg-primary hover:bg-primary/90 group overflow-hidden shadow-lg shadow-primary/20",onClick:O,disabled:!s,children:[e.jsx("span",{className:"absolute inset-0 w-full h-full transition-all duration-300 ease-out transform translate-x-0 -skew-x-12 bg-primary-dark/80 group-hover:translate-x-full"}),e.jsx("span",{className:"absolute inset-0 w-full h-full transition-all duration-300 ease-out transform skew-x-12 bg-primary/90 group-hover:translate-x-full"}),e.jsxs("span",{className:"relative flex items-center justify-center",children:[e.jsx(Ae,{className:"mr-2 h-4 w-4"}),e.jsx("span",{children:"Access Dashboard"})]})]})})]})]})})})}export{qt as default};
